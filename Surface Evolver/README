Here is some of the surface evolver code.
